(this.webpackJsonpmovie=this.webpackJsonpmovie||[]).push([[0],{101:function(e,t,a){},102:function(e,t,a){},120:function(e,t,a){},121:function(e,t,a){},136:function(e,t,a){},137:function(e,t,a){},138:function(e,t,a){},139:function(e,t,a){},144:function(e,t,a){},149:function(e,t,a){"use strict";a.r(t);var c=a(1),s=a.n(c),n=a(23),i=a.n(n),r=(a(71),a(6)),l=a(2),o="login_user",d="register_user",j="auth_user",u="logout_user",b="save_post",h="save_user",p="get_post_by_id",m=a(8),x=a.n(m),O=x.a.create({baseURL:"https://movie-tasters.herokuapp.com/",withCredentials:!0,timeout:3e3}),v="/api/user",f="/api/post";function g(){var e=O.get("".concat(v,"/auth")).then((function(e){return e.data}));return{type:j,payload:e}}function N(e){var t=O.get("".concat(f,"/post_by_id?id=").concat(e,"&type=single")).then((function(e){return e.data}));return{type:p,payload:t}}var y=a(7),w=(a(95),a(0));var _=function(e){var t=Object(y.b)(),a=s.a.useState(""),c=Object(l.a)(a,2),n=c[0],i=c[1],r=s.a.useState(""),d=Object(l.a)(r,2),j=d[0],u=d[1];return Object(w.jsx)("div",{className:"login-area",children:Object(w.jsx)("div",{className:"login-box",children:Object(w.jsxs)("form",{onSubmit:function(a){a.preventDefault(),t(function(e){var t=O.post("".concat(v,"/login"),e).then((function(e){return e.data}));return{type:o,payload:t}}({id:n,password:j})).then((function(t){t.payload.loginSuccess?e.history.push("/"):alert(t.payload.message)}))},children:[Object(w.jsxs)("div",{className:"id-form-box",children:[Object(w.jsx)("label",{className:"id-label",htmlFor:"user_id",children:"\uc544\uc774\ub514 :"}),Object(w.jsx)("input",{className:"id-input",type:"text",id:"user_id",value:n||"",onChange:function(e){i(e.currentTarget.value)}})]}),Object(w.jsxs)("div",{className:"password-form-box",children:[Object(w.jsx)("label",{className:"password-label",htmlFor:"user_password",children:"\ube44\ubc00\ubc88\ud638 :"}),Object(w.jsx)("input",{className:"password-input",type:"password",id:"user_password",value:j||"",onChange:function(e){u(e.currentTarget.value)}})]}),Object(w.jsxs)("div",{className:"button-box",children:[Object(w.jsx)("button",{className:"login-button",type:"submit",children:"\ub85c\uadf8\uc778"}),Object(w.jsx)("button",{className:"register-button",onClick:function(){e.history.push("/register")},children:"\ud68c\uc6d0\uac00\uc785"})]})]})})})};a(97);function C(e){var t=e.visible;return Object(w.jsx)(w.Fragment,{children:t?Object(w.jsx)("div",{className:"notify-bg",children:Object(w.jsx)("div",{className:"notify-box",children:e.text})}):null})}a(98);var k=function(e){var t=Object(y.b)(),a=s.a.useState(!1),c=Object(l.a)(a,2),n=c[0],i=c[1],r=s.a.useState(""),o=Object(l.a)(r,2),j=o[0],u=o[1],b=s.a.useState(""),h=Object(l.a)(b,2),p=h[0],m=h[1],x=s.a.useState(""),f=Object(l.a)(x,2),g=f[0],N=f[1],_=s.a.useState(""),k=Object(l.a)(_,2),T=k[0],S=k[1],F=s.a.useState(""),D=Object(l.a)(F,2),E=D[0],I=D[1],A=s.a.useState(),B=Object(l.a)(A,2),P=B[0],M=B[1],Y=s.a.useState(""),R=Object(l.a)(Y,2),X=R[0],K=R[1];return Object(w.jsxs)("div",{className:"register-area",children:[Object(w.jsx)("div",{className:"register-box",children:Object(w.jsxs)("form",{onSubmit:function(a){a.preventDefault(),t(function(e){var t=O.post("".concat(v,"/register"),e).then((function(e){return e.data}));return{type:d,payload:t}}({id:p,password:g,name:T,nickname:E,birthYear:P,mbti:X})).then((function(t){t.payload.success?(u("\ud68c\uc6d0\uac00\uc785\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),i(!0),setTimeout((function(){i(!1),e.history.push("/login")}),2500)):(1===t.payload.err.keyPattern.id&&(u("\uc911\ubcf5\ub41c \uc544\uc774\ub514\uc785\ub2c8\ub2e4."),i(!0),setTimeout((function(){i(!1)}),2500),m("")),1===t.payload.err.keyPattern.nickname&&(u("\uc911\ubcf5\ub41c \ub2c9\ub124\uc784\uc785\ub2c8\ub2e4."),i(!0),setTimeout((function(){i(!1)}),2500),I("")))})).catch((function(e){alert(e,"\ud68c\uc6d0\uac00\uc785\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4. \uad00\ub9ac\uc790\uc5d0\uac8c \ubb38\uc758\ud558\uc138\uc694.")}))},children:[Object(w.jsxs)("div",{className:"input-wrap",children:[Object(w.jsx)("label",{className:"id-label",htmlFor:"user_name",children:"\uc774\ub984 :"}),Object(w.jsx)("input",{className:"id-input",type:"text",id:"user_name",value:T||"",onChange:function(e){S(e.currentTarget.value)}})]}),Object(w.jsxs)("div",{className:"input-wrap",children:[Object(w.jsx)("label",{className:"id-label",htmlFor:"user_id",children:"\uc544\uc774\ub514 :"}),Object(w.jsx)("input",{className:"id-input",type:"text",id:"user_id",value:p||"",onChange:function(e){m(e.currentTarget.value)},placeholder:"5\uae00\uc790 \uc774\uc0c1"})]}),Object(w.jsxs)("div",{className:"input-wrap",children:[Object(w.jsx)("label",{className:"id-label",htmlFor:"user_password",children:"\ube44\ubc00\ubc88\ud638 :"}),Object(w.jsx)("input",{className:"id-input",type:"password",id:"user_password",value:g||"",onChange:function(e){N(e.currentTarget.value)}})]}),Object(w.jsxs)("div",{className:"input-wrap",children:[Object(w.jsx)("label",{className:"id-label",htmlFor:"user_nickname",children:"\ub2c9\ub124\uc784 :"}),Object(w.jsx)("input",{className:"id-input",type:"text",id:"user_nickname",value:E||"",onChange:function(e){I(e.currentTarget.value)},placeholder:"7\uae00\uc790 \uc774\ud558"})]}),Object(w.jsxs)("div",{className:"input-wrap",children:[Object(w.jsx)("label",{className:"id-label",htmlFor:"user_birth",children:"\uc0dd\ub144 :"}),Object(w.jsx)("input",{className:"id-input",placeholder:"\ub124\uc790\ub9ac\uc758 \uc22b\uc790\ub9cc \uc785\ub825(\uc608: 1999)",type:"text",id:"user_birth",value:P||"",onChange:function(e){M(e.currentTarget.value)}})]}),Object(w.jsxs)("div",{className:"input-wrap mb-50",children:[Object(w.jsx)("label",{className:"id-label",htmlFor:"user_mbti",children:"MBTI :"}),Object(w.jsx)("input",{className:"id-input",placeholder:"\ub124\uc790\ub9ac\uc758 \uc18c\ubb38\uc790 \uc785\ub825(\uc608: intp)",type:"text",id:"user_mbti",value:X||"",onChange:function(e){K(e.currentTarget.value)}})]}),Object(w.jsx)("div",{className:"button-box",children:Object(w.jsx)("button",{className:"register-button",type:"submit",children:"\ud68c\uc6d0\uac00\uc785"})})]})}),Object(w.jsx)(C,{visible:n,text:j})]})},T=a(34),S=a.n(T),F=(a(100),a(101),a(28)),D=["\ub85c\ub9e8\ud2f1\ucf54\ubbf8\ub514","\ub85c\ub9e8\uc2a4","\ucf54\ubbf8\ub514","\uc561\uc158","\uc2a4\ub9b4\ub7ec","\uacf5\ud3ec","\uacf5\uc0c1\uacfc\ud559(SF)","\ud310\ud0c0\uc9c0","\uc560\ub2c8\uba54\uc774\uc158","\ub4dc\ub77c\ub9c8","\ubc94\uc8c4"],E=["#515F7A","#8290AC","#BCC7CC","#D5D9E0","#8C96A1","#A1A19C","#B1B1AC","#C1C0BB","#D0D0CA","#E0E0D5","#F0EFE2"];a(102);var I=function(e){var t=s.a.useState([]),a=Object(l.a)(t,2),c=a[0],n=a[1];s.a.useEffect((function(){e.handleFilter(c)}),[c]);var i=D.map((function(e,t){return Object(w.jsxs)("div",{className:"checkbox-box",children:[Object(w.jsx)("input",{className:"genre-checkbox",type:"checkbox",id:e,onChange:function(t){!function(e,t){if(e)n([].concat(Object(F.a)(c),[t]));else{var a=c.filter((function(e){return e!==t}));n(a)}}(t.currentTarget.checked,e)}}),Object(w.jsx)("label",{className:"genre-label",htmlFor:e,children:e})]},t)}));return Object(w.jsx)("div",{className:"genre-checkbox-container",children:i})};var A=function(e){var t=s.a.useState([]),a=Object(l.a)(t,2),c=a[0],n=a[1];s.a.useEffect((function(){O.get("/api/post/getPost").then((function(e){e.data.success&&n(e.data.post)})).catch((function(e){return alert(e,"\ud3ec\uc2a4\ud2b8\ub97c \ubd88\ub7ec\uc624\ub294\ub370 \uc2e4\ud328\ud588\uc18c.")}))}),[]);var i=c.map((function(t,a){var c=S()(t.updatedAt).format("YYYY\u5e74 MM\u6708 DD\u65e5");return Object(w.jsxs)("div",{className:"post-container",children:[Object(w.jsx)("div",{className:"post-index",children:c},t._id),Object(w.jsxs)("div",{className:"post-box",onClick:function(){return e.history.push("/post/".concat(t._id))},children:[Object(w.jsxs)("div",{className:"content-container",children:[Object(w.jsxs)("div",{className:"movie-post-title",children:['"',t.postTitle.length>14?"".concat(t.postTitle.slice(0,14),"\xb7\xb7\xb7"):t.postTitle,'"']}),Object(w.jsxs)("div",{className:"post-info",children:[Object(w.jsxs)("span",{className:"writer-nickname",children:["\u261e ",t.writer.nickname,"\ub2d8\uc758"]}),Object(w.jsxs)("span",{className:"movie-movie-title",children:[" \u231c",t.movieTitle,"\u231f "]}),Object(w.jsx)("span",{className:"writer-nickname",children:" \ud3ec\uc2a4\ud305"})]}),Object(w.jsx)("table",{border:"1",width:"90%",height:"auto",className:"movie-info-table",children:Object(w.jsxs)("tbody",{children:[Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{align:"center",className:"movie-director",style:{padding:"5px",width:"90px"},children:"\uac10\ub3c5"}),Object(w.jsx)("td",{className:"movie-director",children:t.director.join(", ")})]}),Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{align:"center",className:"movie-actor",style:{padding:"5px",width:"90px"},children:"\ubc30\uc6b0"}),Object(w.jsx)("td",{className:"movie-actor",children:t.actor.length>15?"".concat(t.actor.slice(0,15),"\xb7\xb7\xb7"):t.actor.join(", ")})]}),Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{align:"center",className:"movie-genre",style:{padding:"5px",width:"90px"},children:"\uc7a5\ub974"}),Object(w.jsx)("td",{className:"movie-genre",children:t.genre})]})]})})]}),Object(w.jsxs)("div",{className:"img-container",children:[Object(w.jsx)("div",{className:"grey-noise"}),Object(w.jsx)("div",{className:"grey-noise"}),Object(w.jsx)("div",{className:"grey-noise"}),Object(w.jsx)("img",{src:t.images[0],alt:"movie-still-cut",className:"movie-image"})]})]},a)]},t._id)}));return Object(w.jsxs)("div",{className:"main-area",children:[Object(w.jsx)(I,{handleFilter:function(e){return function(e){var t={genre:e};x.a.post("/api/post/findByGenre",t).then((function(e){e.data.success&&n(e.data.post)})).catch((function(e){return alert(e,"\ud3ec\uc2a4\ud2b8\ub97c \ubd88\ub7ec\uc624\ub294\ub370 \uc2e4\ud328\ud588\uc18c.")}))}(e)}}),c.length>0?Object(w.jsx)(w.Fragment,{children:i}):Object(w.jsx)("div",{className:"no-post-area",children:Object(w.jsx)("div",{className:"no-post-box",children:Object(w.jsx)("div",{className:"no-post-text",children:"\uc5c5\ub85c\ub4dc\ub41c \ud3ec\uc2a4\ud2b8\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."})})})]})},B=a(25),P=a(26),M=a.n(P),Y=(a(120),a(3)),R=a(66);var X=function(e){var t=s.a.useState(!0),a=Object(l.a)(t,2),c=a[0],n=a[1],i=s.a.useState([]),r=Object(l.a)(i,2),o=r[0],d=r[1];s.a.useEffect((function(){e.prevImage?(d(e.prevImage),n(!1)):d([])}),[e.prevImage]);var j=function(t){var a=t.indexOf(t),c=Object(F.a)(t);c.splice(a,1),d(c),n(!0),e.refreshFunction(c)};return Object(w.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"40%"},children:[Object(w.jsx)(R.a,{onDrop:function(t){var a=new FormData;a.append("upload_preset","movieTasters"),a.append("file",t[0]),x.a.post("https://api.cloudinary.com/v1_1/inthefuture/image/upload",a).then((function(t){n(!1),d(t.data.secure_url),e.refreshFunction(t.data.secure_url)})).catch((function(e){return alert(e,"\ud30c\uc77c\uc744 \uc800\uc7a5\ud558\ub294\ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}))},children:function(e){var t=e.getRootProps,a=e.getInputProps;return Object(w.jsxs)("div",Object(Y.a)(Object(Y.a)({style:{height:200,border:"1px solid #8c8c8c",display:"flex",alignItems:"center",justifyContent:"center"}},t()),{},{children:[Object(w.jsx)("i",{className:"fas fa-plus",style:{fontSize:"50px",color:"rgb(114 114 114)"}}),Object(w.jsx)("input",Object(Y.a)({},a()))]}))}}),c?Object(w.jsx)("div",{style:{border:"1px solid #8c8c8c"},children:Object(w.jsx)("h2",{style:{color:"rgba(83, 83, 83, 0.5)",margin:"80px auto",width:"100px",height:"40px",textAlign:"center",backgroundColor:"rgb(200, 200, 200, 0.4)"},children:". . ."})}):Object(w.jsx)("div",{onClick:function(){return j},style:{display:"flex",height:"100%",overflowX:"scroll"},children:Object(w.jsx)("img",{style:{minWidth:"320px",height:"100%"},src:o,alt:"movie stillcut"})})]})};var K=function(e){var t=s.a.useState(""),a=Object(l.a)(t,2),c=a[0],n=a[1],i=s.a.useState(!1),r=Object(l.a)(i,2),o=r[0],d=r[1],j=s.a.useState(""),u=Object(l.a)(j,2),b=u[0],h=u[1],p=s.a.useState(""),m=Object(l.a)(p,2),x=m[0],v=m[1],f=s.a.useState(""),g=Object(l.a)(f,2),N=g[0],y=g[1],_=s.a.useState(""),k=Object(l.a)(_,2),T=k[0],S=k[1],F=s.a.useState(0),E=Object(l.a)(F,2),I=E[0],A=E[1],P=s.a.useState([]),Y=Object(l.a)(P,2),R=Y[0],K=Y[1],L=s.a.useState([]),U=Object(l.a)(L,2),z=U[0],H=U[1],J=s.a.useState([]),V=Object(l.a)(J,2),G=V[0],W=V[1],q=D.map((function(e,t){return Object(w.jsxs)("div",{children:[Object(w.jsx)("input",{type:"checkbox",id:e,onChange:function(t){var a,c;a=t.currentTarget.checked,c=e,a?(S(c),A(I+1)):A(I-1)}}),Object(w.jsx)("label",{htmlFor:e,children:e})]},t)})),Q=function(e){return e.split(",")};return Object(w.jsxs)("div",{className:"upload-area",children:[Object(w.jsx)(C,{visible:o,text:c}),Object(w.jsxs)("div",{className:"form-wrapper",children:[Object(w.jsxs)("div",{className:"upload-box",children:[Object(w.jsx)("table",{border:"1",width:"55%",className:"movie-info-table",children:Object(w.jsxs)("tbody",{children:[Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{align:"center",style:{padding:"5px",width:"90px"},children:Object(w.jsx)("label",{children:"\ud3ec\uc2a4\ud2b8 \uc81c\ubaa9"})}),Object(w.jsx)("td",{children:Object(w.jsx)("input",{className:"post-title-input",type:"text",placeholder:"\ud3ec\uc2a4\ud2b8 \uc81c\ubaa9(25\uc790 \uc774\ud558)",name:"post-title",onChange:function(e){var t=e.target.value;v(t)}})})]}),Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{align:"center",style:{padding:"5px",width:"90px"},children:Object(w.jsx)("label",{children:"\uc601\ud654 \uc81c\ubaa9"})}),Object(w.jsx)("td",{children:Object(w.jsx)("input",{className:"movie-title-input",type:"text",placeholder:"\uc601\ud654 \uc81c\ubaa9",name:"movie-title",onChange:function(e){var t=e.target.value;h(t)}})})]}),Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{align:"center",style:{padding:"5px",width:"90px"},children:Object(w.jsx)("label",{children:"\uac10\ub3c5"})}),Object(w.jsx)("td",{children:Object(w.jsx)("input",{className:"director-input",type:"text",placeholder:"2\uba85 \uc774\uc0c1\uc77c \uacbd\uc6b0 \ubc18\uc810(,)\uc73c\ub85c \uad6c\ubd84",name:"director",onChange:function(e){var t=e.target.value,a=Q(t);K(a)}})})]}),Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{align:"center",style:{padding:"5px",width:"90px"},children:Object(w.jsx)("label",{children:"\ubc30\uc6b0"})}),Object(w.jsx)("td",{children:Object(w.jsx)("input",{className:"actor-input",type:"text",placeholder:"2\uba85 \uc774\uc0c1\uc77c \uacbd\uc6b0 \ubc18\uc810(,)\uc73c\ub85c \uad6c\ubd84",name:"actor",onChange:function(e){var t=e.target.value,a=Q(t);H(a)}})})]}),Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{align:"center",style:{padding:"5px",width:"90px"},children:Object(w.jsx)("label",{children:"\uc7a5\ub974"})}),Object(w.jsx)("td",{style:{padding:"10px"},children:Object(w.jsx)("div",{className:"genre-checkbox",children:q})})]})]})}),Object(w.jsx)(X,{refreshFunction:function(e){W(e)}})]}),Object(w.jsx)(B.CKEditor,{editor:M.a,data:"<p>Hello from CKEditor 5!</p>",onChange:function(e,t){var a=t.getData();y(a)}})]}),Object(w.jsx)("div",{className:"button-container",children:Object(w.jsx)("button",{className:"submit-button",onClick:function(){var t={writer:e.user.userData._id,movieTitle:b,postTitle:x,content:N,genre:T,director:R,actor:z,images:G};x.length<25?I>1?(n("\ud558\ub098\uc758 \uc7a5\ub974\ub9cc \uc120\ud0dd \uac00\ub2a5\ud569\ub2c8\ub2e4."),d(!0),setTimeout((function(){d(!1)}),2500)):O({url:"/api/post/save",method:"post",data:t}).then((function(t){200===t.status&&(n("\uc5c5\ub85c\ub4dc\uac00 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),d(!0),setTimeout((function(){d(!1),e.history.push("/home/".concat(e.user.userData._id))}),2500))})).catch((function(e){return console.log(e)})):alert("\ud3ec\uc2a4\ud2b8 \uc81c\ubaa9\uc758 \ucd5c\ub300 \uae38\uc774\ub294 25\uae00\uc790\uc785\ub2c8\ub2e4.")},children:"\ub4f1\ub85d\ud558\uae30"})})]})},L=a(15);a(121);var U=function(e){var t=Object(y.b)(),a=s.a.useState(""),c=Object(l.a)(a,2),n=c[0],i=c[1],r=s.a.useState(!1),o=Object(l.a)(r,2),d=o[0],j=o[1],u=s.a.useState(""),b=Object(l.a)(u,2),h=b[0],p=b[1],m=s.a.useState({movieTitle:"",postTitle:"",genre:"",actor:[],director:[],images:[]}),O=Object(l.a)(m,2),v=O[0],f=O[1],g=e.match.params.postId;s.a.useEffect((function(){t(N(g)).then((function(e){e.payload.success&&f(e.payload.post[0])}))}),[g]);var _=function(e){var t=e.currentTarget,a=t.name,c=t.value,s=S(c);f(Object(Y.a)(Object(Y.a)({},v),{},Object(L.a)({},a,s)))},k=function(e){var t=e.currentTarget,a=t.name,c=t.value;f(Object(Y.a)(Object(Y.a)({},v),{},Object(L.a)({},a,c)))},T=D.map((function(e,t){return Object(w.jsxs)("div",{children:[Object(w.jsx)("input",{type:"checkbox",id:e,checked:v.genre===e,readOnly:!0}),Object(w.jsx)("label",{htmlFor:e,children:e})]},t)})),S=function(e){return e.split(",")};return Object(w.jsxs)("div",{className:"upload-area",children:[Object(w.jsx)(C,{visible:d,text:n}),Object(w.jsxs)("div",{className:"form-wrapper",children:[Object(w.jsxs)("div",{className:"upload-box",children:[Object(w.jsx)("table",{border:"1",width:"50%",className:"movie-info-table",children:Object(w.jsxs)("tbody",{children:[Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{align:"center",style:{padding:"5px",width:"90px"},children:Object(w.jsx)("label",{children:"\ud3ec\uc2a4\ud2b8 \uc81c\ubaa9"})}),Object(w.jsx)("td",{children:Object(w.jsx)("input",{value:v.postTitle||"",className:"post-title-input",type:"text",placeholder:"\ud3ec\uc2a4\ud2b8 \uc81c\ubaa9(25\uc790 \uc774\ud558)",name:"postTitle",onChange:k})})]}),Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{align:"center",style:{padding:"5px",width:"90px"},children:Object(w.jsx)("label",{children:"\uc601\ud654 \uc81c\ubaa9"})}),Object(w.jsx)("td",{children:Object(w.jsx)("input",{value:v.movieTitle||"",className:"movie-title-input",type:"text",placeholder:"\uc601\ud654 \uc81c\ubaa9",name:"movieTitle",onChange:k})})]}),Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{align:"center",style:{padding:"5px",width:"90px"},children:Object(w.jsx)("label",{children:"\uac10\ub3c5"})}),Object(w.jsx)("td",{children:Object(w.jsx)("input",{value:v.director||"",className:"director-input",type:"text",placeholder:"2\uba85 \uc774\uc0c1\uc77c \uacbd\uc6b0 \ubc18\uc810(,)\uc73c\ub85c \uad6c\ubd84",name:"director",onChange:_})})]}),Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{align:"center",style:{padding:"5px",width:"90px"},children:Object(w.jsx)("label",{children:"\ubc30\uc6b0"})}),Object(w.jsx)("td",{children:Object(w.jsx)("input",{value:v.actor||"",className:"actor-input",type:"text",placeholder:"2\uba85 \uc774\uc0c1\uc77c \uacbd\uc6b0 \ubc18\uc810(,)\uc73c\ub85c \uad6c\ubd84",name:"actor",onChange:_})})]}),Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{align:"center",style:{padding:"5px",width:"90px"},children:Object(w.jsx)("label",{children:"\uc7a5\ub974"})}),Object(w.jsx)("td",{style:{padding:"10px"},children:Object(w.jsx)("div",{className:"genreCheckbox",children:T})})]})]})}),Object(w.jsx)(X,{refreshFunction:function(e){v.images=e},prevImage:v.images})]}),Object(w.jsx)(B.CKEditor,{editor:M.a,data:v.content||"",onChange:function(e,t){var a=t.getData();p(a)}})]}),Object(w.jsx)("div",{className:"button-container",children:Object(w.jsx)("button",{className:"submit-button",onClick:function(){var t={postId:g,writer:e.user.userData._id,movieTitle:v.movieTitle,postTitle:v.postTitle,content:h,genre:v.genre,director:v.director,actor:v.actor,images:v.images};v.postTitle.length<25?x()({url:"/api/post/update",method:"put",data:t}).then((function(t){200===t.status&&(i("\uc218\uc815\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),j(!0),setTimeout((function(){j(!1),e.history.push("/home/".concat(e.user.userData._id))}),2500))})).catch((function(e){return console.log(e)})):alert("\ud3ec\uc2a4\ud2b8 \uc81c\ubaa9\uc758 \ucd5c\ub300 \uae38\uc774\ub294 25\uae00\uc790\uc785\ub2c8\ub2e4.")},children:"\uc218\uc815\ud558\uae30"})})]})},z=a(27);a(136);var H=function(e){var t=s.a.useState([]),a=Object(l.a)(t,2),c=a[0],n=a[1],i=s.a.useState([]),r=Object(l.a)(i,2),o=r[0],d=r[1],j=s.a.useState(!0),u=Object(l.a)(j,2),b=u[0],h=u[1],p=e.match.params.postId,m=Object(y.b)();s.a.useEffect((function(){return m(N(p)).then((function(e){e.payload.success&&(n(e.payload.post),d(e.payload.post[0].actor))})).catch((function(e){return console.log(e)})),function(){h(!1)}}),[p]),setTimeout((function(){h(!1)}),7e3);var x=c.map((function(e,t){return Object(w.jsxs)("div",{className:"post-detail-wrap",children:[Object(w.jsx)("div",{className:"detail-left-section",children:Object(w.jsx)("div",{className:"post-detail-title",children:e.postTitle})}),Object(w.jsxs)("div",{className:"detail-right-section",children:[Object(w.jsxs)("div",{className:"detail-page-title",children:["\uc81c\ubaa9: ",e.movieTitle]}),Object(w.jsxs)("div",{className:"detail-page-director",children:["\uac10\ub3c5: ",e.director]}),Object(w.jsxs)("div",{className:"detail-page-actor",children:["\ubc30\uc6b0: ",e.actor.join(", ")]}),Object(w.jsxs)("div",{className:"detail-page-genre",children:["\uc7a5\ub974: ",e.genre]}),Object(w.jsx)("div",{className:"detail-page-content",children:Object(z.a)(e.content)}),Object(w.jsxs)("div",{style:{marginTop:"100px"},children:[Object(w.jsxs)("span",{className:"detail-page-nickname",children:["\u2014 ",e.writer.nickname]}),Object(w.jsx)("span",{className:"detail-page-posted-text",children:"\ub2d8\uc758 \ud3ec\uc2a4\ud305"})]})]})]},t)})),O=o.map((function(e){return Object(w.jsxs)("div",{style:{marginBottom:"10px"},children:["\ubc30\uc6b0\u2003",e.trim()]},e._id)})),v=c.map((function(e){return Object(w.jsxs)("div",{className:"credit-text-box",children:[Object(w.jsx)("div",{className:"credit-title-text center",children:e.movieTitle}),Object(w.jsxs)("div",{className:"credit-text",children:["\uc7a5\ub974\u2003",e.genre]}),Object(w.jsxs)("div",{className:"credit-text",children:["\uac10\ub3c5\u2003",e.director]}),Object(w.jsx)("div",{className:"credit-text",children:O})]},e._id)}));return c?Object(w.jsx)(w.Fragment,{children:b?Object(w.jsx)("div",{className:"black-bg",children:v}):Object(w.jsx)("div",{className:"post-detail-area",children:x})}):null};var J=function(){return Object(w.jsx)("div",{children:"MbtiRecommend"})};a(137),a(138);function V(e){var t=e.open,a=e.close,c=e.handleClick,s=e.text;return Object(w.jsx)(w.Fragment,{children:t?Object(w.jsx)("div",{className:"modal-bg",children:Object(w.jsxs)("div",{className:"modal-box",children:[Object(w.jsx)("div",{className:"modal-text",children:s}),Object(w.jsxs)("div",{className:"button-box",children:[Object(w.jsx)("button",{className:"no-button",onClick:a,children:"\uc544\ub2c8\uc624"}),Object(w.jsx)("button",{className:"yes-button",onClick:function(){return c()},children:"\uc608"})]})]})}):null})}var G=a(63);var W=function(e){var t=s.a.useState([]),a=Object(l.a)(t,2),c=a[0],n=a[1],i=s.a.useState(!1),r=Object(l.a)(i,2),o=r[0],d=r[1],j=s.a.useState(""),u=Object(l.a)(j,2),b=u[0],h=u[1],p=s.a.useState([]),m=Object(l.a)(p,2),v=m[0],f=m[1],g=e.match.params.id,N=[];s.a.useEffect((function(){O.get("/api/post/getMyPost?id=".concat(g,"&type=single")).then((function(e){e.data.success&&(n(e.data.post),e.data.post.map((function(e){return N.push(e.genre)})),_(N))}))}),[]);var y=function(){d(!1)},_=function(e){var t=e.reduce((function(e,t){var a=e[t]||0;return Object(Y.a)(Object(Y.a)({},e),{},Object(L.a)({},t,a+1))}),{}),a=Object.keys(t),c=E.slice(0,a.length),s=a.map((function(e,a){return{title:e,value:t[e],color:c[a]}}));f(s)},C=c.map((function(t){return Object(w.jsx)("div",{className:"my-post-container",children:Object(w.jsxs)("div",{className:"my-post-box",children:[Object(w.jsxs)("div",{className:"my-post-title-box",children:[Object(w.jsx)("span",{className:"my-post-title",children:t.postTitle}),Object(w.jsx)("div",{className:"my-post-edit-button",onClick:function(){return e.history.push("/post-update/".concat(t._id))},children:"\uc218\uc815"}),Object(w.jsx)("div",{className:"my-post-delete-button",onClick:function(){h(t._id),d(!0)},children:"\uc0ad\uc81c"})]}),Object(w.jsxs)("div",{className:"my-post-movie-title",children:["\uc81c\ubaa9: ",t.movieTitle]}),Object(w.jsxs)("div",{className:"my-post-director",children:["\uac10\ub3c5: ",t.director.join(", ")]}),Object(w.jsxs)("div",{className:"my-post-actor",children:["\ubc30\uc6b0: ",t.actor.join(", ")]}),Object(w.jsxs)("div",{className:"my-post-genre",children:["\uc7a5\ub974: ",t.genre]}),Object(w.jsx)("div",{className:"my-post-content",children:Object(z.a)(t.content)})]})},t._id)}));return Object(w.jsx)(w.Fragment,{children:c.length>0?Object(w.jsxs)("div",{className:"my-post-wrap",children:[Object(w.jsxs)("div",{className:"genre-chart-area",children:[Object(w.jsxs)("div",{className:"genre-chart-pie-btn",children:[Object(w.jsx)("i",{className:"fas fa-chart-pie"}),Object(w.jsx)("div",{className:"chart-text",children:"\uadf8\ub798\ud504"})]}),Object(w.jsx)("div",{className:"genre-chart",children:Object(w.jsx)(G.PieChart,{label:function(e){return e.dataEntry.title},labelStyle:{fontSize:"6px",fill:"#ffffff"},data:v})})]}),C,Object(w.jsx)(V,{open:o,close:y,handleClick:function(){x.a.delete("/api/post/delete?postId=".concat(b)).then((function(e){e.data.success?(y(),window.location.replace("/home/".concat(g))):alert("\uc0ad\uc81c\ub97c \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4.")}))},text:"\uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"})]}):Object(w.jsx)("div",{className:"my-post-wrap",children:Object(w.jsx)("div",{className:"no-post-area",children:Object(w.jsx)("div",{className:"no-post-box",children:Object(w.jsx)("div",{className:"no-post-text",children:"\uc5c5\ub85c\ub4dc\ub41c \ud3ec\uc2a4\ud2b8\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."})})})})})};a(139);var q=function(e){var t=Object(y.b)(),a=s.a.useState(!1),c=Object(l.a)(a,2),n=c[0],i=c[1],r=s.a.useState(""),o=Object(l.a)(r,2),d=o[0],j=o[1],u=s.a.useState({}),b=Object(l.a)(u,2),p=b[0],m=b[1],x=s.a.useState({}),f=Object(l.a)(x,2),g=f[0],N=f[1];s.a.useEffect((function(){e.user.userData&&m(e.user.userData)}),[e]);var _=function(e){var t=e.currentTarget,a=t.name,c=t.value;m(Object(Y.a)(Object(Y.a)({},p),{},Object(L.a)({},a,c))),N(Object(Y.a)(Object(Y.a)({},g),{},Object(L.a)({},a,c)))};return Object(w.jsxs)("div",{className:"register-area",children:[Object(w.jsx)("div",{className:"register-box",children:Object(w.jsxs)("form",{onSubmit:function(e){e.preventDefault(),g._id=p._id,t(function(e){var t=O.patch("".concat(v,"/update"),e).then((function(e){return e.data}));return{type:h,payload:t}}(g)).then((function(e){e.payload.success?(j("\ud68c\uc6d0 \uc218\uc815\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),i(!0),setTimeout((function(){i(!1),window.location.replace("/my-info")}),2500)):(1===e.payload.err.keyPattern.id&&(j("\uc911\ubcf5\ub41c \uc544\uc774\ub514\uc785\ub2c8\ub2e4."),i(!0),setTimeout((function(){i(!1)}),2500),p.id=""),1===e.payload.err.keyPattern.nickname&&(j("\uc911\ubcf5\ub41c \ub2c9\ub124\uc784\uc785\ub2c8\ub2e4."),i(!0),setTimeout((function(){i(!1)}),2500),p.nickname=""))})).catch((function(e){alert(e,"\ud68c\uc6d0 \uc218\uc815\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4. \uad00\ub9ac\uc790\uc5d0\uac8c \ubb38\uc758\ud558\uc138\uc694.")}))},children:[Object(w.jsxs)("div",{className:"input-wrap",children:[Object(w.jsx)("label",{className:"id-label",htmlFor:"user_name",children:"\uc774\ub984 :"}),Object(w.jsx)("input",{className:"id-input",type:"text",id:"user_name",name:"name",value:p.name||"",onChange:_})]}),Object(w.jsxs)("div",{className:"input-wrap",children:[Object(w.jsx)("label",{className:"id-label",htmlFor:"user_id",children:"\uc544\uc774\ub514 :"}),Object(w.jsx)("input",{className:"id-input",type:"text",id:"user_id",name:"id",value:p.id||"",onChange:_,placeholder:"5\uae00\uc790 \uc774\uc0c1"})]}),Object(w.jsxs)("div",{className:"input-wrap",children:[Object(w.jsx)("label",{className:"id-label",htmlFor:"user_password",children:"\ube44\ubc00\ubc88\ud638 :"}),Object(w.jsx)("input",{className:"id-input",type:"password",id:"user_password",name:"password",value:p.password||"",onChange:_})]}),Object(w.jsxs)("div",{className:"input-wrap",children:[Object(w.jsx)("label",{className:"id-label",htmlFor:"user_nickname",children:"\ub2c9\ub124\uc784 :"}),Object(w.jsx)("input",{className:"id-input",type:"text",id:"user_nickname",name:"nickname",value:p.nickname||"",onChange:_,placeholder:"7\uae00\uc790 \uc774\ud558"})]}),Object(w.jsxs)("div",{className:"input-wrap",children:[Object(w.jsx)("label",{className:"id-label",htmlFor:"user_birth",children:"\uc0dd\ub144 :"}),Object(w.jsx)("input",{className:"id-input",placeholder:"\ub124\uc790\ub9ac\uc758 \uc22b\uc790\ub9cc \uc785\ub825(\uc608: 1999)",type:"text",id:"user_birth",name:"birthYear",value:p.birthYear||"",onChange:_})]}),Object(w.jsxs)("div",{className:"input-wrap mb-50",children:[Object(w.jsx)("label",{className:"id-label",htmlFor:"user_mbti",children:"MBTI :"}),Object(w.jsx)("input",{className:"id-input",placeholder:"\ub124\uc790\ub9ac\uc758 \uc18c\ubb38\uc790 \uc785\ub825(\uc608: intp)",type:"text",id:"user_mbti",name:"mbti",value:p.mbti||"",onChange:_})]}),Object(w.jsx)("div",{className:"button-box",children:Object(w.jsx)("button",{className:"register-button",type:"submit",children:"\uc218\uc815"})})]})}),Object(w.jsx)(C,{visible:n,text:d})]})},Q=a(9);a(60);var Z=Object(r.f)((function(e){var t=s.a.useState(""),a=Object(l.a)(t,2),c=a[0],n=a[1],i=s.a.useState(!1),r=Object(l.a)(i,2),o=r[0],d=r[1],j=Object(y.c)((function(e){return e.user}));return s.a.useEffect((function(){j.userData&&n(j.userData._id)}),[j]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("div",{className:"nav-bar-container",children:[Object(w.jsx)("div",{className:"test",onClick:function(){e.history.push("/")},children:Object(w.jsxs)("div",{className:"title-container",children:[Object(w.jsx)("h1",{className:"main-title",style:{marginBottom:"5px"},children:":\uc601\ud654 \ubbf8\uc2dd\uac00"}),Object(w.jsx)("h1",{className:"main-title",children:":Movie Tasters"})]})}),Object(w.jsx)("div",{className:"nav-bar",children:j.userData&&!j.userData.isAuth?Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(Q.b,{to:"/login",className:"nav-link",children:"\ub85c\uadf8\uc778"})}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(Q.b,{to:"/",className:"nav-link",children:"Home"}),Object(w.jsx)(Q.b,{to:"/home/".concat(c),className:"nav-link",children:"\ub098\uc758 \ud398\uc774\uc9c0"}),Object(w.jsx)("div",{onClick:function(){x.a.get("/api/user/logout").then((function(){d(!0),setTimeout((function(){d(!1),e.history.push("/")}),2500)})).catch((function(e){alert(e,"\ub85c\uadf8\uc544\uc6c3\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4. \uad00\ub9ac\uc790\uc5d0\uac8c \ubb38\uc758\ud558\uc138\uc694")}))},className:"nav-link",children:"\ub85c\uadf8\uc544\uc6c3"})]})})]}),Object(w.jsx)(C,{visible:o,text:"\ub85c\uadf8\uc544\uc6c3\ub410\uc2b5\ub2c8\ub2e4."})]})}));var $=Object(r.f)((function(e){var t=s.a.useState(!1),a=Object(l.a)(t,2),c=a[0],n=a[1],i=Object(y.c)((function(e){return e.user}));return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("div",{className:"nav-bar-container",children:[Object(w.jsx)("div",{className:"test",onClick:function(){e.history.push("/")},children:Object(w.jsxs)("div",{className:"title-container",children:[Object(w.jsx)("h1",{className:"main-title",style:{marginBottom:"5px"},children:":\uc601\ud654 \ubbf8\uc2dd\uac00"}),Object(w.jsx)("h1",{className:"main-title",children:":Movie Tasters"})]})}),Object(w.jsx)("div",{className:"nav-bar",children:i.userData&&!i.userData.isAuth?Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(Q.b,{to:"/login",className:"nav-link",children:"\ub85c\uadf8\uc778"})}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(Q.b,{to:"/post-upload",className:"nav-link",children:"\uc5c5\ub85c\ub4dc"}),Object(w.jsx)(Q.b,{to:"/my-info",className:"nav-link",children:"\uc815\ubcf4\uc218\uc815"}),Object(w.jsx)("div",{onClick:function(){x.a.get("/api/user/logout").then((function(){n(!0),setTimeout((function(){n(!1),e.history.push("/")}),2500)})).catch((function(e){alert(e,"\ub85c\uadf8\uc544\uc6c3\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4. \uad00\ub9ac\uc790\uc5d0\uac8c \ubb38\uc758\ud558\uc138\uc694")}))},className:"nav-link",children:"\ub85c\uadf8\uc544\uc6c3"})]})})]}),Object(w.jsx)(C,{visible:c,text:"\ub85c\uadf8\uc544\uc6c3\ub410\uc2b5\ub2c8\ub2e4."})]})}));a(144);var ee=function(){return Object(w.jsx)("footer",{className:"footer"})};var te=Object(r.f)((function(e){var t=s.a.useState(""),a=Object(l.a)(t,2),c=a[0],n=a[1];return s.a.useEffect((function(){n(e.location.pathname)}),[e]),Object(w.jsxs)(w.Fragment,{children:[c.includes("home")?Object(w.jsx)($,{}):Object(w.jsx)(Z,{}),Object(w.jsx)("main",{children:e.children}),Object(w.jsx)(ee,{})]})}));var ae=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;function c(c){var n=Object(y.c)((function(e){return e.user})),i=s.a.useState(!1),r=Object(l.a)(i,2),o=r[0],d=r[1],j=Object(y.b)();return s.a.useEffect((function(){j(g()).then((function(e){e.payload.isAuth?(a&&!e.payload.isAdmin||!1===t)&&c.history.push("/"):t&&(d(!0),setTimeout((function(){d(!1),c.history.push("/login")}),2500))}))}),[c,j]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(C,{visible:o,text:"\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4. \ub85c\uadf8\uc778\ucc3d\uc73c\ub85c \uc774\ub3d9\ud569\ub2c8\ub2e4."}),Object(w.jsx)(e,Object(Y.a)(Object(Y.a)({},c),{},{user:n}))]})}return c};var ce=function(){return Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(te,{children:Object(w.jsxs)(r.c,{children:[Object(w.jsx)(r.a,{exact:!0,path:"/",component:ae(A,null)}),Object(w.jsx)(r.a,{path:"/login",component:ae(_,!1)}),Object(w.jsx)(r.a,{path:"/register",component:ae(k,!1)}),Object(w.jsx)(r.a,{path:"/post-upload",component:ae(K,!0)}),Object(w.jsx)(r.a,{path:"/post-update/:postId",component:ae(U,!0)}),Object(w.jsx)(r.a,{path:"/post/:postId",component:ae(H,null)}),Object(w.jsx)(r.a,{path:"/mbti-recommend",component:ae(J,!0)}),Object(w.jsx)(r.a,{path:"/home/:id",component:ae(W,!0)}),Object(w.jsx)(r.a,{path:"/my-info",component:ae(q,!0)})]})})})},se=a(20),ne=a(64),ie=a.n(ne),re=a(65);var le=Object(se.b)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:return Object(Y.a)(Object(Y.a)({},e),{},{loginSuccess:t.payload});case d:return Object(Y.a)(Object(Y.a)({},e),{},{register:t.payload});case j:return Object(Y.a)(Object(Y.a)({},e),{},{userData:t.payload});case u:return Object(Y.a)({},e);case b:return Object(Y.a)(Object(Y.a)({},e),{},{postData:t.payload});case h:return Object(Y.a)(Object(Y.a)({},e),{},{userInfo:t.payload});case p:return Object(Y.a)(Object(Y.a)({},e),{},{postData:t.payload});default:return e}}}),oe=Object(se.a)(ie.a,re.a)(se.c);i.a.render(Object(w.jsx)(y.a,{store:oe(le,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),children:Object(w.jsx)(Q.a,{children:Object(w.jsx)(ce,{})})}),document.getElementById("root"))},60:function(e,t,a){},71:function(e,t,a){},95:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){}},[[149,1,2]]]);
//# sourceMappingURL=main.b4c7be2e.chunk.js.map