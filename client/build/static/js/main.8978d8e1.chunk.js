(this.webpackJsonpmovie=this.webpackJsonpmovie||[]).push([[0],{117:function(e,t,a){},118:function(e,t,a){},133:function(e,t,a){},134:function(e,t,a){},135:function(e,t,a){},136:function(e,t,a){},141:function(e,t,a){},146:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),s=a(23),i=a.n(s),r=(a(70),a(7)),l=a(2),o="login_user",j="register_user",d="auth_user",u="logout_user",b="save_post",h="save_user",p="get_post_by_id",m=a(6),x=a.n(m),O="/api/user",v="/api/post";function f(){var e=x.a.get("".concat(O,"/auth")).then((function(e){return e.data}));return{type:d,payload:e}}function g(e){var t=x.a.get("".concat(v,"/post_by_id?id=").concat(e,"&type=single")).then((function(e){return e.data}));return{type:p,payload:t}}var N=a(8),y=(a(94),a(0));var w=function(e){var t=Object(N.b)(),a=n.a.useState(""),c=Object(l.a)(a,2),s=c[0],i=c[1],r=n.a.useState(""),j=Object(l.a)(r,2),d=j[0],u=j[1];return Object(y.jsx)("div",{className:"login-area",children:Object(y.jsx)("div",{className:"login-box",children:Object(y.jsxs)("form",{onSubmit:function(a){a.preventDefault(),t(function(e){var t=x.a.post("".concat(O,"/login"),e).then((function(e){return e.data}));return{type:o,payload:t}}({id:s,password:d})).then((function(t){t.payload.loginSuccess?e.history.push("/"):alert(t.payload.message)}))},children:[Object(y.jsxs)("div",{className:"id-form-box",children:[Object(y.jsx)("label",{className:"id-label",htmlFor:"user_id",children:"\uc544\uc774\ub514 :"}),Object(y.jsx)("input",{className:"id-input",type:"text",id:"user_id",value:s||"",onChange:function(e){i(e.currentTarget.value)}})]}),Object(y.jsxs)("div",{className:"password-form-box",children:[Object(y.jsx)("label",{className:"password-label",htmlFor:"user_password",children:"\ube44\ubc00\ubc88\ud638 :"}),Object(y.jsx)("input",{className:"password-input",type:"password",id:"user_password",value:d||"",onChange:function(e){u(e.currentTarget.value)}})]}),Object(y.jsxs)("div",{className:"button-box",children:[Object(y.jsx)("button",{className:"login-button",type:"submit",children:"\ub85c\uadf8\uc778"}),Object(y.jsx)("button",{className:"register-button",onClick:function(){e.history.push("/register")},children:"\ud68c\uc6d0\uac00\uc785"})]})]})})})};a(96);function _(e){var t=e.visible;return Object(y.jsx)(y.Fragment,{children:t?Object(y.jsx)("div",{className:"notify-bg",children:Object(y.jsx)("div",{className:"notify-box",children:e.text})}):null})}a(97);var C=function(e){var t=Object(N.b)(),a=n.a.useState(!1),c=Object(l.a)(a,2),s=c[0],i=c[1],r=n.a.useState(""),o=Object(l.a)(r,2),d=o[0],u=o[1],b=n.a.useState(""),h=Object(l.a)(b,2),p=h[0],m=h[1],v=n.a.useState(""),f=Object(l.a)(v,2),g=f[0],w=f[1],C=n.a.useState(""),k=Object(l.a)(C,2),T=k[0],S=k[1],F=n.a.useState(""),D=Object(l.a)(F,2),E=D[0],I=D[1],A=n.a.useState(),B=Object(l.a)(A,2),P=B[0],M=B[1],X=n.a.useState(""),R=Object(l.a)(X,2),K=R[0],Y=R[1];return Object(y.jsxs)("div",{className:"register-area",children:[Object(y.jsx)("div",{className:"register-box",children:Object(y.jsxs)("form",{onSubmit:function(a){a.preventDefault(),t(function(e){var t=x.a.post("".concat(O,"/register"),e).then((function(e){return e.data}));return{type:j,payload:t}}({id:p,password:g,name:T,nickname:E,birthYear:P,mbti:K})).then((function(t){t.payload.success?(u("\ud68c\uc6d0\uac00\uc785\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),i(!0),setTimeout((function(){i(!1),e.history.push("/login")}),2500)):(1===t.payload.err.keyPattern.id&&(u("\uc911\ubcf5\ub41c \uc544\uc774\ub514\uc785\ub2c8\ub2e4."),i(!0),setTimeout((function(){i(!1)}),2500),m("")),1===t.payload.err.keyPattern.nickname&&(u("\uc911\ubcf5\ub41c \ub2c9\ub124\uc784\uc785\ub2c8\ub2e4."),i(!0),setTimeout((function(){i(!1)}),2500),I("")))})).catch((function(e){alert(e,"\ud68c\uc6d0\uac00\uc785\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4. \uad00\ub9ac\uc790\uc5d0\uac8c \ubb38\uc758\ud558\uc138\uc694.")}))},children:[Object(y.jsxs)("div",{className:"input-wrap",children:[Object(y.jsx)("label",{className:"id-label",htmlFor:"user_name",children:"\uc774\ub984 :"}),Object(y.jsx)("input",{className:"id-input",type:"text",id:"user_name",value:T||"",onChange:function(e){S(e.currentTarget.value)}})]}),Object(y.jsxs)("div",{className:"input-wrap",children:[Object(y.jsx)("label",{className:"id-label",htmlFor:"user_id",children:"\uc544\uc774\ub514 :"}),Object(y.jsx)("input",{className:"id-input",type:"text",id:"user_id",value:p||"",onChange:function(e){m(e.currentTarget.value)},placeholder:"5\uae00\uc790 \uc774\uc0c1"})]}),Object(y.jsxs)("div",{className:"input-wrap",children:[Object(y.jsx)("label",{className:"id-label",htmlFor:"user_password",children:"\ube44\ubc00\ubc88\ud638 :"}),Object(y.jsx)("input",{className:"id-input",type:"password",id:"user_password",value:g||"",onChange:function(e){w(e.currentTarget.value)}})]}),Object(y.jsxs)("div",{className:"input-wrap",children:[Object(y.jsx)("label",{className:"id-label",htmlFor:"user_nickname",children:"\ub2c9\ub124\uc784 :"}),Object(y.jsx)("input",{className:"id-input",type:"text",id:"user_nickname",value:E||"",onChange:function(e){I(e.currentTarget.value)},placeholder:"7\uae00\uc790 \uc774\ud558"})]}),Object(y.jsxs)("div",{className:"input-wrap",children:[Object(y.jsx)("label",{className:"id-label",htmlFor:"user_birth",children:"\uc0dd\ub144 :"}),Object(y.jsx)("input",{className:"id-input",placeholder:"\ub124\uc790\ub9ac\uc758 \uc22b\uc790\ub9cc \uc785\ub825(\uc608: 1999)",type:"text",id:"user_birth",value:P||"",onChange:function(e){M(e.currentTarget.value)}})]}),Object(y.jsxs)("div",{className:"input-wrap mb-50",children:[Object(y.jsx)("label",{className:"id-label",htmlFor:"user_mbti",children:"MBTI :"}),Object(y.jsx)("input",{className:"id-input",placeholder:"\ub124\uc790\ub9ac\uc758 \uc18c\ubb38\uc790 \uc785\ub825(\uc608: intp)",type:"text",id:"user_mbti",value:K||"",onChange:function(e){Y(e.currentTarget.value)}})]}),Object(y.jsx)("div",{className:"button-box",children:Object(y.jsx)("button",{className:"register-button",type:"submit",children:"\ud68c\uc6d0\uac00\uc785"})})]})}),Object(y.jsx)(_,{visible:s,text:d})]})},k=(a(98),a(28)),T=["\ub85c\ub9e8\ud2f1\ucf54\ubbf8\ub514","\ub85c\ub9e8\uc2a4","\ucf54\ubbf8\ub514","\uc561\uc158","\uc2a4\ub9b4\ub7ec","\uacf5\ud3ec","\uacf5\uc0c1\uacfc\ud559(SF)","\ud310\ud0c0\uc9c0","\uc560\ub2c8\uba54\uc774\uc158","\ub4dc\ub77c\ub9c8","\ubc94\uc8c4"],S=["#515F7A","#8290AC","#BCC7CC","#D5D9E0","#8C96A1","#A1A19C","#B1B1AC","#C1C0BB","#D0D0CA","#E0E0D5","#F0EFE2"];a(99);var F=function(e){var t=n.a.useState([]),a=Object(l.a)(t,2),c=a[0],s=a[1];n.a.useEffect((function(){e.handleFilter(c)}),[c]);var i=T.map((function(e,t){return Object(y.jsxs)("div",{className:"checkbox-box",children:[Object(y.jsx)("input",{className:"genre-checkbox",type:"checkbox",id:e,onChange:function(t){!function(e,t){if(e)s([].concat(Object(k.a)(c),[t]));else{var a=c.filter((function(e){return e!==t}));s(a)}}(t.currentTarget.checked,e)}}),Object(y.jsx)("label",{className:"genre-label",htmlFor:e,children:e})]},t)}));return Object(y.jsx)("div",{className:"genre-checkbox-container",children:i})};var D=function(e){var t=n.a.useState([]),a=Object(l.a)(t,2),c=a[0],s=a[1];n.a.useEffect((function(){x.a.get("/api/post/getPost").then((function(e){e.data.success&&s(e.data.post)})).catch((function(e){return alert(e,"\ud3ec\uc2a4\ud2b8\ub97c \ubd88\ub7ec\uc624\ub294\ub370 \uc2e4\ud328\ud588\uc18c.")}))}),[]);var i=c.map((function(t,a){return Object(y.jsxs)("div",{className:"post-container",children:[Object(y.jsxs)("div",{className:"post-index",children:["No.",a+1]},t._id),Object(y.jsxs)("div",{className:"post-box",onClick:function(){return e.history.push("/post/".concat(t._id))},children:[Object(y.jsxs)("div",{className:"content-container",children:[Object(y.jsxs)("div",{className:"movie-post-title",children:['"',t.postTitle.length>14?"".concat(t.postTitle.slice(0,14),"\xb7\xb7\xb7"):t.postTitle,'"']}),Object(y.jsxs)("div",{className:"post-info",children:[Object(y.jsxs)("span",{className:"writer-nickname",children:["\u261e ",t.writer.nickname,"\ub2d8\uc758"]}),Object(y.jsxs)("span",{className:"movie-movie-title",children:[" \u231c",t.movieTitle,"\u231f "]}),Object(y.jsx)("span",{className:"writer-nickname",children:" \ud3ec\uc2a4\ud305"})]}),Object(y.jsx)("table",{border:"1",width:"90%",height:"auto",className:"movie-info-table",children:Object(y.jsxs)("tbody",{children:[Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{align:"center",className:"movie-director",style:{padding:"5px",width:"90px"},children:"\uac10\ub3c5"}),Object(y.jsx)("td",{className:"movie-director",children:t.director.join(", ")})]}),Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{align:"center",className:"movie-actor",style:{padding:"5px",width:"90px"},children:"\ubc30\uc6b0"}),Object(y.jsx)("td",{className:"movie-actor",children:t.actor.length>15?"".concat(t.actor.slice(0,15),"\xb7\xb7\xb7"):t.actor.join(", ")})]}),Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{align:"center",className:"movie-genre",style:{padding:"5px",width:"90px"},children:"\uc7a5\ub974"}),Object(y.jsx)("td",{className:"movie-genre",children:t.genre})]})]})})]}),Object(y.jsxs)("div",{className:"img-container",children:[Object(y.jsx)("div",{className:"grey-noise"}),Object(y.jsx)("div",{className:"grey-noise"}),Object(y.jsx)("div",{className:"grey-noise"}),Object(y.jsx)("img",{src:t.images[0],alt:"movie-still-cut",className:"movie-image"})]})]},a)]},t._id)}));return Object(y.jsxs)("div",{className:"main-area",children:[Object(y.jsx)(F,{handleFilter:function(e){return function(e){var t={genre:e};x.a.post("/api/post/findByGenre",t).then((function(e){e.data.success&&s(e.data.post)})).catch((function(e){return alert(e,"\ud3ec\uc2a4\ud2b8\ub97c \ubd88\ub7ec\uc624\ub294\ub370 \uc2e4\ud328\ud588\uc18c.")}))}(e)}}),c.length>0?Object(y.jsx)(y.Fragment,{children:i}):Object(y.jsx)("div",{className:"no-post-area",children:Object(y.jsx)("div",{className:"no-post-box",children:Object(y.jsx)("div",{className:"no-post-text",children:"\uc5c5\ub85c\ub4dc\ub41c \ud3ec\uc2a4\ud2b8\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."})})})]})},E=a(25),I=a(26),A=a.n(I),B=(a(117),a(3)),P=a(65);var M=function(e){var t=n.a.useState(!1),a=Object(l.a)(t,2),c=a[0],s=a[1],i=n.a.useState([]),r=Object(l.a)(i,2),o=r[0],j=r[1];n.a.useEffect((function(){e.prevImage?j(e.prevImage):j([])}),[e.prevImage]);var d=function(t){var a=t.indexOf(t),c=Object(k.a)(t);c.splice(a,1),j(c),s(!0),e.refreshFunction(c)};return Object(y.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(y.jsx)(P.a,{onDrop:function(t){var a=new FormData;a.append("upload_preset","movieTasters"),a.append("file",t[0]),console.log(a),x.a.post("https://api.cloudinary.com/v1_1/inthefuture/image/upload",a).then((function(t){s(!1),j(t.data.secure_url),e.refreshFunction(t.data.secure_url)})).catch((function(e){return alert(e,"\ud30c\uc77c\uc744 \uc800\uc7a5\ud558\ub294\ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}))},children:function(e){var t=e.getRootProps,a=e.getInputProps;return Object(y.jsx)("div",Object(B.a)(Object(B.a)({style:{width:300,height:240,border:"1px solid lightgray",display:"flex",alignItems:"center",justifyContent:"center"}},t()),{},{children:Object(y.jsx)("input",Object(B.a)({},a()))}))}}),c?Object(y.jsx)("h2",{style:{color:"rgba(83, 83, 83, 0.5)",margin:"100px auto",width:"150px",height:"50px",textAlign:"center",backgroundColor:"rgb(200, 200, 200, 0.4)"},children:". . ."}):Object(y.jsx)("div",{onClick:function(){return d},style:{display:"flex",width:"350px",height:"240px",overflowX:"scroll"},children:Object(y.jsx)("img",{style:{minWidth:"320px",width:"320px",height:"220px"},src:o,alt:"movie stillcut"})})]})};var X=function(e){var t=n.a.useState(""),a=Object(l.a)(t,2),c=a[0],s=a[1],i=n.a.useState(!1),r=Object(l.a)(i,2),o=r[0],j=r[1],d=n.a.useState(""),u=Object(l.a)(d,2),b=u[0],h=u[1],p=n.a.useState(""),m=Object(l.a)(p,2),O=m[0],v=m[1],f=n.a.useState(""),g=Object(l.a)(f,2),N=g[0],w=g[1],C=n.a.useState(""),k=Object(l.a)(C,2),S=k[0],F=k[1],D=n.a.useState(0),I=Object(l.a)(D,2),B=I[0],P=I[1],X=n.a.useState([]),R=Object(l.a)(X,2),K=R[0],Y=R[1],G=n.a.useState([]),H=Object(l.a)(G,2),J=H[0],L=H[1],U=n.a.useState([]),V=Object(l.a)(U,2),z=V[0],W=V[1],q=T.map((function(e,t){return Object(y.jsxs)("div",{children:[Object(y.jsx)("input",{type:"checkbox",id:e,onChange:function(t){var a,c;a=t.currentTarget.checked,c=e,a?(F(c),P(B+1)):P(B-1)}}),Object(y.jsx)("label",{htmlFor:e,children:e})]},t)})),Q=function(e){return e.split(",")};return Object(y.jsxs)("div",{className:"upload-area",children:[Object(y.jsx)(_,{visible:o,text:c}),Object(y.jsxs)("div",{className:"form-wrapper",children:[Object(y.jsxs)("div",{className:"upload-box",children:[Object(y.jsx)("table",{border:"1",width:"50%",className:"movie-info-table",children:Object(y.jsxs)("tbody",{children:[Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{align:"center",style:{padding:"5px",width:"90px"},children:Object(y.jsx)("label",{children:"\ud3ec\uc2a4\ud2b8 \uc81c\ubaa9"})}),Object(y.jsx)("td",{children:Object(y.jsx)("input",{className:"post-title-input",type:"text",placeholder:"\ud3ec\uc2a4\ud2b8 \uc81c\ubaa9(25\uc790 \uc774\ud558)",name:"post-title",onChange:function(e){var t=e.target.value;v(t)}})})]}),Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{align:"center",style:{padding:"5px",width:"90px"},children:Object(y.jsx)("label",{children:"\uc601\ud654 \uc81c\ubaa9"})}),Object(y.jsx)("td",{children:Object(y.jsx)("input",{className:"movie-title-input",type:"text",placeholder:"\uc601\ud654 \uc81c\ubaa9",name:"movie-title",onChange:function(e){var t=e.target.value;h(t)}})})]}),Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{align:"center",style:{padding:"5px",width:"90px"},children:Object(y.jsx)("label",{children:"\uac10\ub3c5"})}),Object(y.jsx)("td",{children:Object(y.jsx)("input",{className:"director-input",type:"text",placeholder:"2\uba85 \uc774\uc0c1\uc77c \uacbd\uc6b0 \ubc18\uc810(,)\uc73c\ub85c \uad6c\ubd84",name:"director",onChange:function(e){var t=e.target.value,a=Q(t);Y(a)}})})]}),Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{align:"center",style:{padding:"5px",width:"90px"},children:Object(y.jsx)("label",{children:"\ubc30\uc6b0"})}),Object(y.jsx)("td",{children:Object(y.jsx)("input",{className:"actor-input",type:"text",placeholder:"2\uba85 \uc774\uc0c1\uc77c \uacbd\uc6b0 \ubc18\uc810(,)\uc73c\ub85c \uad6c\ubd84",name:"actor",onChange:function(e){var t=e.target.value,a=Q(t);L(a)}})})]}),Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{align:"center",style:{padding:"5px",width:"90px"},children:Object(y.jsx)("label",{children:"\uc7a5\ub974"})}),Object(y.jsx)("td",{style:{padding:"10px"},children:Object(y.jsx)("div",{className:"genre-checkbox",children:q})})]})]})}),Object(y.jsx)(M,{refreshFunction:function(e){W(e)}})]}),Object(y.jsx)(E.CKEditor,{editor:A.a,data:"<p>Hello from CKEditor 5!</p>",onChange:function(e,t){var a=t.getData();w(a)}})]}),Object(y.jsx)("div",{className:"button-container",children:Object(y.jsx)("button",{className:"submit-button",onClick:function(){var t={writer:e.user.userData._id,movieTitle:b,postTitle:O,content:N,genre:S,director:K,actor:J,images:z};O.length<25?B>1?(s("\ud558\ub098\uc758 \uc7a5\ub974\ub9cc \uc120\ud0dd \uac00\ub2a5\ud569\ub2c8\ub2e4."),j(!0),setTimeout((function(){j(!1)}),2500)):x()({url:"/api/post/save",method:"post",data:t}).then((function(t){200===t.status&&(s("\uc5c5\ub85c\ub4dc\uac00 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),j(!0),setTimeout((function(){j(!1),e.history.push("/home/".concat(e.user.userData._id))}),2500))})).catch((function(e){return console.log(e)})):alert("\ud3ec\uc2a4\ud2b8 \uc81c\ubaa9\uc758 \ucd5c\ub300 \uae38\uc774\ub294 25\uae00\uc790\uc785\ub2c8\ub2e4.")},children:"\ub4f1\ub85d\ud558\uae30"})})]})},R=a(15);a(118);var K=function(e){var t=Object(N.b)(),a=n.a.useState(""),c=Object(l.a)(a,2),s=c[0],i=c[1],r=n.a.useState(!1),o=Object(l.a)(r,2),j=o[0],d=o[1],u=n.a.useState(""),b=Object(l.a)(u,2),h=b[0],p=b[1],m=n.a.useState([]),O=Object(l.a)(m,2),v=(O[0],O[1],n.a.useState({movieTitle:"",postTitle:"",genre:"",actor:[],director:[],images:[]})),f=Object(l.a)(v,2),w=f[0],C=f[1],k=e.match.params.postId;n.a.useEffect((function(){t(g(k)).then((function(e){e.payload.success&&C(e.payload.post[0])}))}),[k]);var S=function(e){var t=e.currentTarget,a=t.name,c=t.value,n=I(c);C(Object(B.a)(Object(B.a)({},w),{},Object(R.a)({},a,n)))},F=function(e){var t=e.currentTarget,a=t.name,c=t.value;C(Object(B.a)(Object(B.a)({},w),{},Object(R.a)({},a,c)))},D=T.map((function(e,t){return Object(y.jsxs)("div",{children:[Object(y.jsx)("input",{type:"checkbox",id:e,checked:w.genre===e,readOnly:!0}),Object(y.jsx)("label",{htmlFor:e,children:e})]},t)})),I=function(e){return e.split(",")};return Object(y.jsxs)("div",{className:"upload-area",children:[Object(y.jsx)(_,{visible:j,text:s}),Object(y.jsxs)("div",{className:"form-wrapper",children:[Object(y.jsxs)("div",{className:"upload-box",children:[Object(y.jsx)("table",{border:"1",width:"50%",className:"movie-info-table",children:Object(y.jsxs)("tbody",{children:[Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{align:"center",style:{padding:"5px",width:"90px"},children:Object(y.jsx)("label",{children:"\ud3ec\uc2a4\ud2b8 \uc81c\ubaa9"})}),Object(y.jsx)("td",{children:Object(y.jsx)("input",{value:w.postTitle||"",className:"post-title-input",type:"text",placeholder:"\ud3ec\uc2a4\ud2b8 \uc81c\ubaa9(25\uc790 \uc774\ud558)",name:"postTitle",onChange:F})})]}),Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{align:"center",style:{padding:"5px",width:"90px"},children:Object(y.jsx)("label",{children:"\uc601\ud654 \uc81c\ubaa9"})}),Object(y.jsx)("td",{children:Object(y.jsx)("input",{value:w.movieTitle||"",className:"movie-title-input",type:"text",placeholder:"\uc601\ud654 \uc81c\ubaa9",name:"movieTitle",onChange:F})})]}),Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{align:"center",style:{padding:"5px",width:"90px"},children:Object(y.jsx)("label",{children:"\uac10\ub3c5"})}),Object(y.jsx)("td",{children:Object(y.jsx)("input",{value:w.director||"",className:"director-input",type:"text",placeholder:"2\uba85 \uc774\uc0c1\uc77c \uacbd\uc6b0 \ubc18\uc810(,)\uc73c\ub85c \uad6c\ubd84",name:"director",onChange:S})})]}),Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{align:"center",style:{padding:"5px",width:"90px"},children:Object(y.jsx)("label",{children:"\ubc30\uc6b0"})}),Object(y.jsx)("td",{children:Object(y.jsx)("input",{value:w.actor||"",className:"actor-input",type:"text",placeholder:"2\uba85 \uc774\uc0c1\uc77c \uacbd\uc6b0 \ubc18\uc810(,)\uc73c\ub85c \uad6c\ubd84",name:"actor",onChange:S})})]}),Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{align:"center",style:{padding:"5px",width:"90px"},children:Object(y.jsx)("label",{children:"\uc7a5\ub974"})}),Object(y.jsx)("td",{style:{padding:"10px"},children:Object(y.jsx)("div",{className:"genreCheckbox",children:D})})]})]})}),Object(y.jsx)(M,{refreshFunction:function(e){w.images=e},prevImage:w.images[0]})]}),Object(y.jsx)(E.CKEditor,{editor:A.a,data:w.content||"",onChange:function(e,t){var a=t.getData();p(a)}})]}),Object(y.jsx)("div",{className:"button-container",children:Object(y.jsx)("button",{className:"submit-button",onClick:function(){var t={postId:k,writer:e.user.userData._id,movieTitle:w.movieTitle,postTitle:w.postTitle,content:h,genre:w.genre,director:w.director,actor:w.actor,images:w.images};w.postTitle.length<25?x()({url:"/api/post/update",method:"put",data:t}).then((function(t){200===t.status&&(i("\uc218\uc815\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),d(!0),setTimeout((function(){d(!1),e.history.push("/home/".concat(e.user.userData._id))}),2500))})).catch((function(e){return console.log(e)})):alert("\ud3ec\uc2a4\ud2b8 \uc81c\ubaa9\uc758 \ucd5c\ub300 \uae38\uc774\ub294 25\uae00\uc790\uc785\ub2c8\ub2e4.")},children:"\uc218\uc815\ud558\uae30"})})]})},Y=a(27);a(133);var G=function(e){var t=n.a.useState([]),a=Object(l.a)(t,2),c=a[0],s=a[1],i=n.a.useState(!0),r=Object(l.a)(i,2),o=r[0],j=r[1],d=e.match.params.postId,u=Object(N.b)();n.a.useEffect((function(){return u(g(d)).then((function(e){e.payload.success&&s(e.payload.post)})).catch((function(e){return console.log(e)})),function(){j(!1)}}),[d]),setTimeout((function(){j(!1)}),1e3);var b=c.map((function(e,t){return Object(y.jsxs)("div",{className:"post-detail-wrap",children:[Object(y.jsx)("div",{className:"detail-left-section",children:Object(y.jsx)("div",{className:"post-detail-title",children:e.postTitle})}),Object(y.jsxs)("div",{className:"detail-right-section",children:[Object(y.jsxs)("div",{className:"detail-page-title",children:["\uc81c\ubaa9: ",e.movieTitle]}),Object(y.jsxs)("div",{className:"detail-page-director",children:["\uac10\ub3c5: ",e.director]}),Object(y.jsxs)("div",{className:"detail-page-actor",children:["\ubc30\uc6b0: ",e.actor.join(", ")]}),Object(y.jsxs)("div",{className:"detail-page-genre",children:["\uc7a5\ub974: ",e.genre]}),Object(y.jsx)("div",{className:"detail-page-content",children:Object(Y.a)(e.content)}),Object(y.jsxs)("div",{style:{marginTop:"100px"},children:[Object(y.jsxs)("span",{className:"detail-page-nickname",children:["\u2014 ",e.writer.nickname]}),Object(y.jsx)("span",{className:"detail-page-posted-text",children:"\ub2d8\uc758 \ud3ec\uc2a4\ud305"})]})]})]},t)})),h=c.map((function(e){return Object(y.jsxs)("div",{className:"credit-text-box",children:[Object(y.jsx)("div",{className:"credit-text center",children:e.movieTitle}),Object(y.jsxs)("div",{className:"credit-text",children:["\uc7a5\ub974\u2003",e.genre]}),Object(y.jsxs)("div",{className:"credit-text",children:["\uac10\ub3c5\u2003",e.director]}),Object(y.jsxs)("div",{className:"credit-text",children:["\ubc30\uc6b0\u2003",e.actor.join(", ")]})]},e._id)}));return c?Object(y.jsx)(y.Fragment,{children:o?Object(y.jsx)("div",{className:"black-bg",children:h}):Object(y.jsx)("div",{className:"post-detail-area",children:b})}):null};var H=function(){return Object(y.jsx)("div",{children:"MbtiRecommend"})};a(134),a(135);function J(e){var t=e.open,a=e.close,c=e.handleClick,n=e.text;return Object(y.jsx)(y.Fragment,{children:t?Object(y.jsx)("div",{className:"modal-bg",children:Object(y.jsxs)("div",{className:"modal-box",children:[Object(y.jsx)("div",{className:"modal-text",children:n}),Object(y.jsxs)("div",{className:"button-box",children:[Object(y.jsx)("button",{className:"no-button",onClick:a,children:"\uc544\ub2c8\uc624"}),Object(y.jsx)("button",{className:"yes-button",onClick:function(){return c()},children:"\uc608"})]})]})}):null})}var L=a(62);var U=function(e){var t=n.a.useState([]),a=Object(l.a)(t,2),c=a[0],s=a[1],i=n.a.useState(!1),r=Object(l.a)(i,2),o=r[0],j=r[1],d=n.a.useState(""),u=Object(l.a)(d,2),b=u[0],h=u[1],p=n.a.useState([]),m=Object(l.a)(p,2),O=m[0],v=m[1],f=e.match.params.id,g=[];n.a.useEffect((function(){x.a.get("/api/post/getMyPost?id=".concat(f,"&type=single")).then((function(e){e.data.success&&(s(e.data.post),e.data.post.map((function(e){return g.push(e.genre)})),w(g))}))}),[]);var N=function(){j(!1)},w=function(e){var t=e.reduce((function(e,t){var a=e[t]||0;return Object(B.a)(Object(B.a)({},e),{},Object(R.a)({},t,a+1))}),{}),a=Object.keys(t),c=S.slice(0,a.length),n=a.map((function(e,a){return{title:e,value:t[e],color:c[a]}}));v(n)},_=c.map((function(t){return Object(y.jsx)("div",{className:"my-post-container",children:Object(y.jsxs)("div",{className:"my-post-box",children:[Object(y.jsxs)("div",{className:"my-post-title-box",children:[Object(y.jsx)("span",{className:"my-post-title",children:t.postTitle}),Object(y.jsx)("div",{className:"my-post-edit-button",onClick:function(){return e.history.push("/post-update/".concat(t._id))},children:"\uc218\uc815"}),Object(y.jsx)("div",{className:"my-post-delete-button",onClick:function(){h(t._id),j(!0)},children:"\uc0ad\uc81c"})]}),Object(y.jsxs)("div",{className:"my-post-movie-title",children:["\uc81c\ubaa9: ",t.movieTitle]}),Object(y.jsxs)("div",{className:"my-post-director",children:["\uac10\ub3c5: ",t.director.join(", ")]}),Object(y.jsxs)("div",{className:"my-post-actor",children:["\ubc30\uc6b0: ",t.actor.join(", ")]}),Object(y.jsxs)("div",{className:"my-post-genre",children:["\uc7a5\ub974: ",t.genre]}),Object(y.jsx)("div",{className:"my-post-content",children:Object(Y.a)(t.content)})]})},t._id)}));return Object(y.jsx)(y.Fragment,{children:c.length>0?Object(y.jsxs)("div",{className:"my-post-wrap",children:[Object(y.jsxs)("div",{className:"genre-chart-area",children:[Object(y.jsxs)("div",{className:"genre-chart-pie-btn",children:[Object(y.jsx)("i",{className:"fas fa-chart-pie"}),Object(y.jsx)("div",{className:"chart-text",children:"\uadf8\ub798\ud504"})]}),Object(y.jsx)("div",{className:"genre-chart",children:Object(y.jsx)(L.PieChart,{label:function(e){return e.dataEntry.title},labelStyle:{fontSize:"6px",fill:"#ffffff"},data:O})})]}),_,Object(y.jsx)(J,{open:o,close:N,handleClick:function(){x.a.delete("/api/post/delete?postId=".concat(b)).then((function(e){e.data.success?(N(),window.location.replace("/home/".concat(f))):alert("\uc0ad\uc81c\ub97c \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4.")}))},text:"\uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"})]}):Object(y.jsx)("div",{className:"my-post-wrap",children:Object(y.jsx)("div",{className:"no-post-area",children:Object(y.jsx)("div",{className:"no-post-box",children:Object(y.jsx)("div",{className:"no-post-text",children:"\uc5c5\ub85c\ub4dc\ub41c \ud3ec\uc2a4\ud2b8\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."})})})})})};var V=function(){return Object(y.jsx)("div",{children:"genreGraph"})};a(136);var z=function(e){var t=Object(N.b)(),a=n.a.useState(!1),c=Object(l.a)(a,2),s=c[0],i=c[1],r=n.a.useState(""),o=Object(l.a)(r,2),j=o[0],d=o[1],u=n.a.useState({}),b=Object(l.a)(u,2),p=b[0],m=b[1],v=n.a.useState({}),f=Object(l.a)(v,2),g=f[0],w=f[1];n.a.useEffect((function(){e.user.userData&&m(e.user.userData)}),[e]);var C=function(e){var t=e.currentTarget,a=t.name,c=t.value;m(Object(B.a)(Object(B.a)({},p),{},Object(R.a)({},a,c))),w(Object(B.a)(Object(B.a)({},g),{},Object(R.a)({},a,c)))};return Object(y.jsxs)("div",{className:"register-area",children:[Object(y.jsx)("div",{className:"register-box",children:Object(y.jsxs)("form",{onSubmit:function(e){e.preventDefault(),g._id=p._id,t(function(e){var t=x.a.patch("".concat(O,"/update"),e).then((function(e){return e.data}));return{type:h,payload:t}}(g)).then((function(e){e.payload.success?(d("\ud68c\uc6d0 \uc218\uc815\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),i(!0),setTimeout((function(){i(!1),window.location.replace("/my-info")}),2500)):(1===e.payload.err.keyPattern.id&&(d("\uc911\ubcf5\ub41c \uc544\uc774\ub514\uc785\ub2c8\ub2e4."),i(!0),setTimeout((function(){i(!1)}),2500),p.id=""),1===e.payload.err.keyPattern.nickname&&(d("\uc911\ubcf5\ub41c \ub2c9\ub124\uc784\uc785\ub2c8\ub2e4."),i(!0),setTimeout((function(){i(!1)}),2500),p.nickname=""))})).catch((function(e){alert(e,"\ud68c\uc6d0 \uc218\uc815\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4. \uad00\ub9ac\uc790\uc5d0\uac8c \ubb38\uc758\ud558\uc138\uc694.")}))},children:[Object(y.jsxs)("div",{className:"input-wrap",children:[Object(y.jsx)("label",{className:"id-label",htmlFor:"user_name",children:"\uc774\ub984 :"}),Object(y.jsx)("input",{className:"id-input",type:"text",id:"user_name",name:"name",value:p.name||"",onChange:C})]}),Object(y.jsxs)("div",{className:"input-wrap",children:[Object(y.jsx)("label",{className:"id-label",htmlFor:"user_id",children:"\uc544\uc774\ub514 :"}),Object(y.jsx)("input",{className:"id-input",type:"text",id:"user_id",name:"id",value:p.id||"",onChange:C,placeholder:"5\uae00\uc790 \uc774\uc0c1"})]}),Object(y.jsxs)("div",{className:"input-wrap",children:[Object(y.jsx)("label",{className:"id-label",htmlFor:"user_password",children:"\ube44\ubc00\ubc88\ud638 :"}),Object(y.jsx)("input",{className:"id-input",type:"password",id:"user_password",name:"password",value:p.password||"",onChange:C})]}),Object(y.jsxs)("div",{className:"input-wrap",children:[Object(y.jsx)("label",{className:"id-label",htmlFor:"user_nickname",children:"\ub2c9\ub124\uc784 :"}),Object(y.jsx)("input",{className:"id-input",type:"text",id:"user_nickname",name:"nickname",value:p.nickname||"",onChange:C,placeholder:"7\uae00\uc790 \uc774\ud558"})]}),Object(y.jsxs)("div",{className:"input-wrap",children:[Object(y.jsx)("label",{className:"id-label",htmlFor:"user_birth",children:"\uc0dd\ub144 :"}),Object(y.jsx)("input",{className:"id-input",placeholder:"\ub124\uc790\ub9ac\uc758 \uc22b\uc790\ub9cc \uc785\ub825(\uc608: 1999)",type:"text",id:"user_birth",name:"birthYear",value:p.birthYear||"",onChange:C})]}),Object(y.jsxs)("div",{className:"input-wrap mb-50",children:[Object(y.jsx)("label",{className:"id-label",htmlFor:"user_mbti",children:"MBTI :"}),Object(y.jsx)("input",{className:"id-input",placeholder:"\ub124\uc790\ub9ac\uc758 \uc18c\ubb38\uc790 \uc785\ub825(\uc608: intp)",type:"text",id:"user_mbti",name:"mbti",value:p.mbti||"",onChange:C})]}),Object(y.jsx)("div",{className:"button-box",children:Object(y.jsx)("button",{className:"register-button",type:"submit",children:"\uc218\uc815"})})]})}),Object(y.jsx)(_,{visible:s,text:j})]})},W=a(9);a(59);var q=Object(r.f)((function(e){var t=n.a.useState(""),a=Object(l.a)(t,2),c=a[0],s=a[1],i=n.a.useState(!1),r=Object(l.a)(i,2),o=r[0],j=r[1],d=Object(N.c)((function(e){return e.user}));return n.a.useEffect((function(){d.userData&&s(d.userData._id)}),[d]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:"nav-bar-container",children:[Object(y.jsx)("div",{className:"test",onClick:function(){e.history.push("/")},children:Object(y.jsxs)("div",{className:"title-container",children:[Object(y.jsx)("h1",{className:"main-title",style:{marginBottom:"5px"},children:":\uc601\ud654 \ubbf8\uc2dd\uac00"}),Object(y.jsx)("h1",{className:"main-title",children:":Movie Tasters"})]})}),Object(y.jsx)("div",{className:"nav-bar",children:d.userData&&!d.userData.isAuth?Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(W.b,{to:"/login",className:"nav-link",children:"\ub85c\uadf8\uc778"})}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(W.b,{to:"/",className:"nav-link",children:"Home"}),Object(y.jsx)(W.b,{to:"/home/".concat(c),className:"nav-link",children:"\ub098\uc758 \ud398\uc774\uc9c0"}),Object(y.jsx)("div",{onClick:function(){x.a.get("/api/user/logout").then((function(){j(!0),setTimeout((function(){j(!1),e.history.push("/")}),2500)})).catch((function(e){alert(e,"\ub85c\uadf8\uc544\uc6c3\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4. \uad00\ub9ac\uc790\uc5d0\uac8c \ubb38\uc758\ud558\uc138\uc694")}))},className:"nav-link",children:"\ub85c\uadf8\uc544\uc6c3"})]})})]}),Object(y.jsx)(_,{visible:o,text:"\ub85c\uadf8\uc544\uc6c3\ub410\uc2b5\ub2c8\ub2e4."})]})}));var Q=Object(r.f)((function(e){var t=n.a.useState(!1),a=Object(l.a)(t,2),c=a[0],s=a[1],i=Object(N.c)((function(e){return e.user}));return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:"nav-bar-container",children:[Object(y.jsx)("div",{className:"test",onClick:function(){e.history.push("/")},children:Object(y.jsxs)("div",{className:"title-container",children:[Object(y.jsx)("h1",{className:"main-title",style:{marginBottom:"5px"},children:":\uc601\ud654 \ubbf8\uc2dd\uac00"}),Object(y.jsx)("h1",{className:"main-title",children:":Movie Tasters"})]})}),Object(y.jsx)("div",{className:"nav-bar",children:i.userData&&!i.userData.isAuth?Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(W.b,{to:"/login",className:"nav-link",children:"\ub85c\uadf8\uc778"})}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(W.b,{to:"/post-upload",className:"nav-link",children:"\uc5c5\ub85c\ub4dc"}),Object(y.jsx)(W.b,{to:"/my-info",className:"nav-link",children:"\uc815\ubcf4\uc218\uc815"}),Object(y.jsx)("div",{onClick:function(){x.a.get("/api/user/logout").then((function(){s(!0),setTimeout((function(){s(!1),e.history.push("/")}),2500)})).catch((function(e){alert(e,"\ub85c\uadf8\uc544\uc6c3\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4. \uad00\ub9ac\uc790\uc5d0\uac8c \ubb38\uc758\ud558\uc138\uc694")}))},className:"nav-link",children:"\ub85c\uadf8\uc544\uc6c3"})]})})]}),Object(y.jsx)(_,{visible:c,text:"\ub85c\uadf8\uc544\uc6c3\ub410\uc2b5\ub2c8\ub2e4."})]})}));a(141);var Z=function(){return Object(y.jsx)("footer",{className:"footer"})};var $=Object(r.f)((function(e){var t=n.a.useState(""),a=Object(l.a)(t,2),c=a[0],s=a[1];return n.a.useEffect((function(){s(e.location.pathname)}),[e]),Object(y.jsxs)(y.Fragment,{children:[c.includes("home")?Object(y.jsx)(Q,{}):Object(y.jsx)(q,{}),Object(y.jsx)("main",{children:e.children}),Object(y.jsx)(Z,{})]})}));var ee=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;function c(c){var s=Object(N.c)((function(e){return e.user})),i=n.a.useState(!1),r=Object(l.a)(i,2),o=r[0],j=r[1],d=Object(N.b)();return n.a.useEffect((function(){d(f()).then((function(e){e.payload.isAuth?(a&&!e.payload.isAdmin||!1===t)&&c.history.push("/"):t&&(j(!0),setTimeout((function(){j(!1),c.history.push("/login")}),2500))}))}),[c,d]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(_,{visible:o,text:"\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4. \ub85c\uadf8\uc778\ucc3d\uc73c\ub85c \uc774\ub3d9\ud569\ub2c8\ub2e4."}),Object(y.jsx)(e,Object(B.a)(Object(B.a)({},c),{},{user:s}))]})}return c};var te=function(){return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)($,{children:Object(y.jsxs)(r.c,{children:[Object(y.jsx)(r.a,{exact:!0,path:"/",component:ee(D,null)}),Object(y.jsx)(r.a,{path:"/login",component:ee(w,!1)}),Object(y.jsx)(r.a,{path:"/register",component:ee(C,!1)}),Object(y.jsx)(r.a,{path:"/post-upload",component:ee(X,!0)}),Object(y.jsx)(r.a,{path:"/post-update/:postId",component:ee(K,!0)}),Object(y.jsx)(r.a,{path:"/post/:postId",component:ee(G,null)}),Object(y.jsx)(r.a,{path:"/mbti-recommend",component:ee(H,!0)}),Object(y.jsx)(r.a,{path:"/home/:id",component:ee(U,!0)}),Object(y.jsx)(r.a,{path:"/genre-graph",component:ee(V,!0)}),Object(y.jsx)(r.a,{path:"/my-info",component:ee(z,!0)})]})})})},ae=a(20),ce=a(63),ne=a.n(ce),se=a(64);var ie=Object(ae.b)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:return Object(B.a)(Object(B.a)({},e),{},{loginSuccess:t.payload});case j:return Object(B.a)(Object(B.a)({},e),{},{register:t.payload});case d:return Object(B.a)(Object(B.a)({},e),{},{userData:t.payload});case u:return Object(B.a)({},e);case b:return Object(B.a)(Object(B.a)({},e),{},{postData:t.payload});case h:return Object(B.a)(Object(B.a)({},e),{},{userInfo:t.payload});case p:return Object(B.a)(Object(B.a)({},e),{},{postData:t.payload});default:return e}}}),re=Object(ae.a)(ne.a,se.a)(ae.c);i.a.render(Object(y.jsx)(N.a,{store:re(ie,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),children:Object(y.jsx)(W.a,{children:Object(y.jsx)(te,{})})}),document.getElementById("root"))},59:function(e,t,a){},70:function(e,t,a){},94:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[146,1,2]]]);
//# sourceMappingURL=main.8978d8e1.chunk.js.map